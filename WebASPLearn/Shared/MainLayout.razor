@inherits LayoutComponentBase

<div class="flex h-screen overflow-hidden">
    <!-- Sidebar -->
    <aside class="hidden md:flex md:flex-col md:w-64 bg-slate-900 text-white">
        <NavMenu />
    </aside>

    <!-- Mobile sidebar overlay -->
    <div class="md:hidden">
        @if (showMobileSidebar)
        {
            <div class="fixed inset-0 z-40 flex">
                <div class="fixed inset-0 bg-black/50" @onclick="ToggleMobileSidebar"></div>
                <aside class="relative z-50 w-64 bg-slate-900 text-white flex flex-col">
                    <NavMenu />
                </aside>
            </div>
        }
    </div>

    <!-- Main content -->
    <div class="flex-1 flex flex-col overflow-hidden">
        <!-- Top bar -->
        <header class="flex items-center justify-between h-14 px-6 bg-white border-b border-gray-200 shadow-sm">
            <button class="md:hidden text-gray-600 hover:text-gray-900" @onclick="ToggleMobileSidebar">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
            <div class="flex-1"></div>
            <a href="https://docs.microsoft.com/aspnet/" target="_blank"
               class="text-sm text-gray-500 hover:text-brand-600 transition-colors">
                ASP.NET Docs
            </a>
        </header>

        <!-- Page content -->
        <main class="flex-1 overflow-y-auto p-6">
            @Body
        </main>
    </div>
</div>

@code {
    private bool showMobileSidebar = false;

    private void ToggleMobileSidebar()
    {
        showMobileSidebar = !showMobileSidebar;
    }
}
